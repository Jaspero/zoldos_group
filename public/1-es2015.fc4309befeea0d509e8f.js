(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{sbAP:function(t,e,i){"use strict";function n(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{l(n.next(t))}catch(e){r(e)}}function a(t){try{l(n.throw(t))}catch(e){r(e)}}function l(t){t.done?s(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))}i.d(e,"a",(function(){return D})),i.d(e,"b",(function(){return J})),i.d(e,"c",(function(){return V}));var s=i("fXoL"),r=i("tyNb"),o=i("2Vo4"),a=i("5yfJ"),l=i("LRne"),c=i("XNiG"),u=i("3N8a");class h extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}}var d=i("IjjT");class p extends d.a{}const f=new p(h);var b=i("quSY"),w=i("7o/Q"),m=i("WMd4");class v extends w.a{constructor(t,e,i=0){super(t),this.scheduler=e,this.delay=i}static dispatch(t){const{notification:e,destination:i}=t;e.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(v.dispatch,this.delay,new y(t,this.destination)))}_next(t){this.scheduleMessage(m.a.createNext(t))}_error(t){this.scheduleMessage(m.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(m.a.createComplete()),this.unsubscribe()}}class y{constructor(t,e){this.notification=t,this.destination=e}}var S=i("9ppp"),_=i("Ylt2");class g extends c.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new O(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,s=i.length;let r;if(this.closed)throw new S.a;if(this.isStopped||this.hasError?r=b.a.EMPTY:(this.observers.push(t),r=new _.a(this,t)),n&&t.add(t=new v(t,n)),e)for(let o=0;o<s&&!t.closed;o++)t.next(i[o]);else for(let o=0;o<s&&!t.closed;o++)t.next(i[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),r}_getNow(){return(this.scheduler||f).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,n=this._events,s=n.length;let r=0;for(;r<s&&!(t-n[r].time<i);)r++;return s>e&&(r=Math.max(r,s-e)),r>0&&n.splice(0,r),n}}class O{constructor(t,e){this.time=t,this.value=e}}var T=i("pLZG"),I=i("eIep"),j=i("vkgz"),x=i("SxV6"),E=i("lJxs");function C(t,e,i){let n;return n=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:i},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:i,scheduler:n}){let s,r,o=0,a=!1,l=!1;return function(c){o++,s&&!a||(a=!1,s=new g(t,e,n),r=c.subscribe({next(t){s.next(t)},error(t){a=!0,s.error(t)},complete(){l=!0,r=void 0,s.complete()}}));const u=s.subscribe(this);this.add(()=>{o--,u.unsubscribe(),r&&!l&&i&&0===o&&(r.unsubscribe(),r=void 0,s=void 0)})}}(n))}function M(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return i=>Object(E.a)(function(t,e){return i=>{let n=i;for(let s=0;s<e;s++){const e=n[t[s]];if(void 0===e)return;n=e}return n}}(t,e))(i)}var N=i("IzEk");class L{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new A(t,this.predicate,this.inclusive))}}class A extends w.a{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(n){return void e.error(n)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}var B=i("JIr8"),R=i("ofXK");const P=["*"],U={useTransferState:!0,alwaysMonitor:!1,manualIdle:!1},$=new s.q("scullyLibConfig",{factory:()=>U});function F(t,e="json"){return new Promise((i,n)=>{const s=new XMLHttpRequest;s.responseType=e,s.addEventListener("load",t=>i(s.response)),s.addEventListener("error",(...t)=>n(t)),s.open("get",t,!0),s.send()})}const z=()=>window&&"running"===window.ScullyIO,W=()=>window&&"generated"===window.ScullyIO;let k=(()=>{class t{constructor(t,e){this.document=t,this.router=e,this.inlineOnly=!1,this.currentBaseUrl="//",this.stateBS=new o.a({}),this.state$=this.stateBS.pipe(Object(T.a)(t=>void 0!==t)),this.nextUrl=this.router.events.pipe(Object(T.a)(t=>t instanceof r.c),Object(I.a)(t=>this.initialUrl===t.url?(this.initialUrl="__done__with__Initial__navigation__",a.a):Object(l.a)(t)),Object(j.a)(()=>this.stateBS.next(void 0)),Object(I.a)(t=>this.router.events.pipe(Object(T.a)(e=>e instanceof r.b&&e.url===t.url),Object(x.a)())),Object(E.a)(t=>t.urlAfterRedirects||t.url),C(1))}startMonitoring(){window&&window["ScullyIO-injected"]&&window["ScullyIO-injected"].inlineStateOnly&&(this.inlineOnly=!0),this.setupEnvForTransferState(),this.setupStartNavMonitoring()}setupEnvForTransferState(){if(z()){this.injectScript();const t=window["ScullyIO-exposed"]||{};t.transferState&&(this.stateBS.next(t.transferState),this.saveState(t.transferState))}else W()&&(this.initialUrl=window.location.pathname||"__no_NO_no__",this.initialUrl="/"!==this.initialUrl&&this.initialUrl.endsWith("/")?this.initialUrl.slice(0,-1):this.initialUrl,this.stateBS.next(window&&window["ScullyIO-transfer-state"]||{}))}injectScript(){this.script=this.document.createElement("script"),this.script.setAttribute("id","ScullyIO-transfer-state");let t=document.body.lastChild;for(;"SCRIPT"===t.previousSibling.nodeName;)t=t.previousSibling;document.body.insertBefore(this.script,t)}getState(t){return this.fetchTransferState(),this.state$.pipe(M(t))}stateHasKey(t){return this.stateBS.value&&this.stateBS.value.hasOwnProperty(t)}stateKeyHasValue(t){return this.stateBS.value&&this.stateBS.value.hasOwnProperty(t)&&null!=this.stateBS.value[t]}setState(t,e){const i=Object.assign(Object.assign({},this.stateBS.value),{[t]:e});this.stateBS.next(i),this.saveState(i)}saveState(t){z()&&(this.script.textContent=`window['ScullyIO-transfer-state']=/** ___SCULLY_STATE_START___ */${JSON.stringify(t)}/** ___SCULLY_STATE_END___ */`)}setupStartNavMonitoring(){W()&&this.nextUrl.subscribe()}useScullyTransferState(t,e){return W()?this.getState(t):e.pipe(Object(j.a)(e=>this.setState(t,e)))}fetchTransferState(){return n(this,void 0,void 0,(function*(){const t=t=>t.split("/").filter(t=>""!==t.trim())[0];yield new Promise(t=>setTimeout(t,0));const e=yield this.nextUrl.pipe(Object(N.a)(1)).toPromise(),i=t(e);this.currentBaseUrl!==i&&(this.currentBaseUrl=i,this.nextUrl.pipe(function(t,e=!1){return i=>i.lift(new L(t,e))}(e=>t(e)===this.currentBaseUrl),Object(I.a)(t=>this.inlineOnly?this.readFromIndex(t):this.readFromJson(t)),Object(B.a)(t=>(console.warn("Error while loading of parsing Scully state:",t),Object(l.a)({}))),Object(j.a)(t=>{this.stateBS.next(t)})).subscribe({complete:()=>{this.currentBaseUrl="//"}}))}))}readFromJson(t){return F((i="/data.json",(e=t).endsWith("/")&&i.startsWith("/")?`${e}${i.substr(1)}`:e.endsWith("/")||i.startsWith("/")?`${e}${i}`:`${e}/${i}`));var e,i}readFromIndex(t){return F(t+"/index.html","text").then(t=>{const e=t.split("/** ___SCULLY_STATE_START___ */")[1].split("/** ___SCULLY_STATE_END___ */")[0];return JSON.parse(e)})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(R.d),s.Mb(r.d))},t.\u0275prov=Object(s.Db)({factory:function(){return new t(Object(s.Mb)(R.d),Object(s.Mb)(r.d))},token:t,providedIn:"root"}),t})();window;let H=(()=>{class t{constructor(t,e,i,n){var s;this.zone=t,this.router=e,this.initialUrl=((s=window&&window.location.pathname).endsWith("/")?s.slice(0,-1):s)||"",this.imState=new o.a({idle:!1,timeOut:5e3}),this.idle$=this.imState.pipe(M("idle")),this.initApp=new Event("AngularInitialized",{bubbles:!0,cancelable:!1}),this.appReady=new Event("AngularReady",{bubbles:!0,cancelable:!1}),this.appTimeout=new Event("AngularTimeout",{bubbles:!0,cancelable:!1}),this.scullyLibConfig=Object.assign({},U,i);const a=!!(window["ScullyIO-exposed"]||{}).manualIdle;!this.scullyLibConfig.manualIdle&&window&&(this.scullyLibConfig.alwaysMonitor||z())&&(window.dispatchEvent(this.initApp),this.router.events.pipe(Object(T.a)(t=>t instanceof r.b&&void 0!==t.urlAfterRedirects),Object(T.a)(t=>!a||t.urlAfterRedirects!==this.initialUrl),Object(j.a)(()=>this.zoneIdleCheck())).subscribe()),this.scullyLibConfig.manualIdle&&window.dispatchEvent(this.initApp),this.scullyLibConfig.useTransferState&&n.startMonitoring()}fireManualMyAppReadyEvent(){return n(this,void 0,void 0,(function*(){return window.dispatchEvent(this.appReady)}))}init(){return n(this,void 0,void 0,(function*(){return this.idle$.pipe(Object(N.a)(1)).toPromise()}))}zoneIdleCheck(){return n(this,void 0,void 0,(function*(){if(void 0===Zone)return this.simpleTimeout();const t=Zone.current.get("TaskTrackingZone");if(void 0===t)return this.simpleTimeout();this.imState.value.idle&&(yield this.setState("idle",!1)),this.zone.runOutsideAngular(()=>{let e,i=0;const n=Date.now(),s=()=>{clearTimeout(e),Date.now()-n>3e4?window.dispatchEvent(this.appTimeout):t.macroTasks.length>0&&void 0!==t.macroTasks.find(t=>t.source.includes("XMLHttpRequest"))||i<1?e=setTimeout(()=>{i+=1,s()},50):(window.dispatchEvent(this.appReady),this.setState("idle",!0))};s()})}))}simpleTimeout(){return n(this,void 0,void 0,(function*(){console.warn("Scully is using timeouts, add the needed polyfills instead!"),yield new Promise(t=>setTimeout(t,this.imState.value.timeOut)),window.dispatchEvent(this.appReady)}))}setPupeteerTimeoutValue(t){this.imState.next(Object.assign(Object.assign({},this.imState.value),{timeOut:t}))}setState(t,e){this.imState.next(Object.assign(Object.assign({},this.imState.value),{[t]:e}))}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(s.z),s.Mb(r.d),s.Mb($),s.Mb(k))},t.\u0275prov=Object(s.Db)({factory:function(){return new t(Object(s.Mb)(s.z),Object(s.Mb)(r.d),Object(s.Mb)($),Object(s.Mb)(k))},token:t,providedIn:"root"}),t})(),V=(()=>{class t{constructor(){this.refresh=new g(1),this.allRoutes$=this.refresh.pipe(Object(I.a)(()=>F("/assets/scully-routes.json")),Object(B.a)(()=>(console.warn("Scully routes file not found, are you running the Scully generated version of your site?"),Object(l.a)([]))),Object(T.a)(t=>Array.isArray(t)),Object(E.a)(this.cleanDups),C({refCount:!1,bufferSize:1})),this.available$=this.allRoutes$.pipe(Object(E.a)(t=>t.filter(t=>!t.hasOwnProperty("published")||!1!==t.published)),C({refCount:!1,bufferSize:1})),this.unPublished$=this.allRoutes$.pipe(Object(E.a)(t=>t.filter(t=>!!t.hasOwnProperty("published")&&!1===t.published)),C({refCount:!1,bufferSize:1})),this.topLevel$=this.available$.pipe(Object(E.a)(t=>t.filter(t=>!t.route.slice(1).includes("/"))),C({refCount:!1,bufferSize:1})),this.reload()}getCurrent(){if(!location)return Object(l.a)();const t=location.pathname.trim();return this.available$.pipe(Object(E.a)(e=>e.find(e=>t===e.route.trim()||e.slugs&&Array.isArray(e.slugs)&&e.slugs.find(e=>t.endsWith(e.trim())))))}cleanDups(t){const e=new Map;return t.forEach(t=>e.set(t.sourceFile||t.route,t)),[...e.values()]}reload(){this.refresh.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Db)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),D=(()=>{class t{constructor(t,e,i){this.elmRef=t,this.srs=e,this.router=i,this.elm=this.elmRef.nativeElement,this.routes=this.srs.allRoutes$.pipe(Object(N.a)(1)).toPromise(),this.routeUpdates$=this.router.events.pipe(Object(T.a)(t=>t instanceof r.b),Object(j.a)(t=>this.replaceContent())),this.routeSub=this.routeUpdates$.subscribe()}ngOnInit(){this.elm&&this.handlePage()}handlePage(){return n(this,void 0,void 0,(function*(){const t=location.href;if(this.lastHandled===t)return;this.lastHandled=t;const e=document.createElement("template"),i=this.getCSSId(this.elm);if(window.scullyContent){const t=window.scullyContent.html;e.innerHTML=i!==window.scullyContent.cssId?t.split(window.scullyContent.cssId).join(i):t}else yield F(t+"/index.html","text").then(t=>{try{const n=t.split("\x3c!--scullyContent-begin--\x3e")[1].split("\x3c!--scullyContent-end--\x3e")[0];if(n.includes("_ngcontent")){const t="_ngcontent"+n.split("_ngcontent")[1].split("=")[0];e.innerHTML=n.split(t).join(i)}}catch(n){e.innerHTML='<h2 id="___scully-parsing-error___">Sorry, could not parse static page content</h2>\n            <p>This might happen if you are not using the static generated pages.</p>'}}).catch(t=>{e.innerHTML='<h2 id="___scully-parsing-error___">Sorry, could not load static page content</h2>',console.error("problem during loading static scully content",t)});const n=this.elm.parentElement||document.body,s=document.createComment("scullyContent-begin"),r=document.createComment("scullyContent-end");n.insertBefore(s,this.elm),n.insertBefore(e.content,this.elm),n.insertBefore(r,this.elm),document.querySelectorAll("[href]").forEach(this.upgradeToRoutelink.bind(this))}))}upgradeToRoutelink(t){return n(this,void 0,void 0,(function*(){const e=yield this.routes,i=t.getAttribute("href").toLowerCase(),s=e.find(t=>t.route.toLowerCase()===i);i&&s&&(t.onclick=t=>n(this,void 0,void 0,(function*(){const e=s.route.split("/"),i=location.pathname.split("/");i.pop(),t.preventDefault(),(yield this.router.navigate(e).catch(t=>(console.error("routing error",t),!1)))&&i.every((t,i)=>e[i]===t)&&e.length>i.length&&setTimeout(()=>this.replaceContent(),10)})))}))}replaceContent(){window.scullyContent=void 0;const t=this.elm.parentElement;let e=function(t,e){const i=[],n=document.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode:t=>t.nodeValue&&!t.nodeValue.includes("scullyContent-begin")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT});let s;for(;s=n.nextNode();)i.push(s);return i}(t)[0];for(;e&&e!==this.elm;){const i=e.nextSibling;t.removeChild(e),e=i}this.handlePage()}getCSSId(t){return t.getAttributeNames().find(t=>t.startsWith("_ngcontent"))||"none_found"}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Hb(s.l),s.Hb(V),s.Hb(r.d))},t.\u0275cmp=s.Bb({type:t,selectors:[["scully-content"]],ngContentSelectors:P,decls:1,vars:0,template:function(t,e){1&t&&(s.Wb(),s.Vb(0))},styles:["\n      :host {\n        display: none;\n      }\n      scully-content {\n        display: none;\n      }\n    "],encapsulation:2,changeDetection:0}),t})(),Y=(()=>{class t{}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(e){return new(e||t)}}),t})(),J=(()=>{class t{constructor(t){this.idle=t}static forRoot(e=U){return{ngModule:t,providers:[{provide:$,useValue:e}]}}}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(e){return new(e||t)(s.Mb(H))},imports:[[Y],Y]}),t})()}}]);